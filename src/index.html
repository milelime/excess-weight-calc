<!DOCTYPE html>
<html>
  <head> </head>
  <body>
    <h1>Excess Weight Calculator</h1>
    <form name="weightcalc">
      <fieldset>
        <legend>Enter your height</legend>
        <label class="field_name">Enter Height (f)</label>
        <input name="height_feet" class="field" onkeyup="calc();" type="text" />
        <label class="field_name">Enter Height (in)</label>
        <input
          name="height_inches"
          class="field"
          onkeyup="calc();"
          type="text"
        />
        <br />
        <br />
        <legend>Enter your weight</legend>
        <label class="field_name">Enter Weight (lb)</label>
        <input name="weight" class="field" onkeyup="calc();" type="text" />
      </fieldset>

      <fieldset>
        <legend>Totals</legend>
        <label class="field_name">Total excess weight</label>
        <input
          name="excess"
          class="field_total"
          type="text"
          data-percentage="1"
        />
        <br /><br />
        <label class="field_name">80% excess weight</label>
        <input
          name="eightyexcess"
          class="field_total"
          type="text"
          data-percentage="0.8"
        />
        <br /><br />
        <label class="field_name">60% excess weight</label>
        <input
          name="sixtyexcess"
          class="field_total"
          type="text"
          data-percentage="0.6"
        />
        <br /><br />
        <label class="field_name">40% excess weight</label>
        <input
          name="fortyexcess"
          class="field_total"
          type="text"
          data-percentage="0.4"
        />
        <br /><br />
        <label class="field_name">20% excess weight</label>
        <input
          name="twentyexcess"
          class="field_total"
          type="text"
          data-percentage="0.2"
        />
      </fieldset>
    </form>

    <style>
      fieldset {
        border: 1px solid #214261;
      }
      input[type="text"] {
        color: #214261;
        font-size: 16px;
        padding: 5px;
      }
    </style>
    <script>
      function calc() {
        const getValue = (fieldName) =>
          parseFloat(document.weightcalc[fieldName].value);

        var h = 12 * getValue("height_feet") + getValue("height_inches");
        var w = getValue("weight");
        var excess_weight = w - (25 * h * h) / 703;

        document.querySelectorAll(".field_total").forEach((field) => {
          let percentage = parseFloat(field.getAttribute("data-percentage"));
          field.value = (excess_weight * percentage).toFixed(2);
        });
      }
    </script>
  </body>
</html>
